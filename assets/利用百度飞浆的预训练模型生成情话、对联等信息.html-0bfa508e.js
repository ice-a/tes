import{_ as n}from"./plugin-vue_export-helper-c27b6911.js";import{o as s,c as a,e as t}from"./app-47834413.js";const p={},e=t(`<div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># anconda</span>
<span class="token triple-quoted-string string">&#39;&#39;&#39;step1: 安装paddlepaddle
conda create -n paddle python=3.6
conda activate paddle
pip install paddlepaddle -i https://pypi.tuna.tsinghua.edu.cn/simple
pip install paddlehub -i https://pypi.tuna.tsinghua.edu.cn/simple
pip install pillow
&#39;&#39;&#39;</span>
<span class="token keyword">import</span> paddlehub <span class="token keyword">as</span> hub

<span class="token keyword">class</span> <span class="token class-name">HubUtils</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>hub <span class="token operator">=</span> hub
        <span class="token comment">#初始化时需要加载模型</span>
        self<span class="token punctuation">.</span>module_love_words <span class="token operator">=</span> self<span class="token punctuation">.</span>hub<span class="token punctuation">.</span>Module<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;ernie_gen_lover_words&quot;</span><span class="token punctuation">)</span>          <span class="token comment"># 情话</span>
        self<span class="token punctuation">.</span>module_poetry <span class="token operator">=</span> self<span class="token punctuation">.</span>hub<span class="token punctuation">.</span>Module<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;ernie_gen_poetry&quot;</span><span class="token punctuation">)</span>                   <span class="token comment"># 诗歌</span>
        self<span class="token punctuation">.</span>module_acrostic_poetry <span class="token operator">=</span> self<span class="token punctuation">.</span>hub<span class="token punctuation">.</span>Module<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;ernie_gen_acrostic_poetry&quot;</span><span class="token punctuation">)</span> <span class="token comment"># 藏头诗</span>
        self<span class="token punctuation">.</span>module_couplets <span class="token operator">=</span> self<span class="token punctuation">.</span>hub<span class="token punctuation">.</span>Module<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;ernie_gen_couplet&quot;</span><span class="token punctuation">)</span>                <span class="token comment"># 对联</span>
    <span class="token keyword">def</span> <span class="token function">GetLoveWords</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>text<span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        results <span class="token operator">=</span> self<span class="token punctuation">.</span>module_love_words<span class="token punctuation">.</span>generate<span class="token punctuation">(</span>texts<span class="token operator">=</span><span class="token punctuation">[</span>text<span class="token punctuation">]</span><span class="token punctuation">,</span> use_gpu<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> beam_width<span class="token operator">=</span>size<span class="token punctuation">)</span>
        <span class="token keyword">return</span> results<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>

    <span class="token keyword">def</span> <span class="token function">GetAcrostic</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>text<span class="token punctuation">,</span>line<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">,</span>word<span class="token operator">=</span><span class="token number">7</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment">#默认返回一首</span>
        self<span class="token punctuation">.</span>module_acrostic <span class="token operator">=</span> self<span class="token punctuation">.</span>hub<span class="token punctuation">.</span>module <span class="token operator">=</span> hub<span class="token punctuation">.</span>Module<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;ernie_gen_acrostic_poetry&quot;</span><span class="token punctuation">,</span> line<span class="token operator">=</span>line<span class="token punctuation">,</span> word<span class="token operator">=</span>word<span class="token punctuation">)</span>
        results <span class="token operator">=</span> self<span class="token punctuation">.</span>module_acrostic<span class="token punctuation">.</span>generate<span class="token punctuation">(</span>texts<span class="token operator">=</span><span class="token punctuation">[</span>text<span class="token punctuation">]</span><span class="token punctuation">,</span> use_gpu<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> beam_width<span class="token operator">=</span>size<span class="token punctuation">)</span>
        <span class="token keyword">return</span> results<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
    <span class="token keyword">def</span> <span class="token function">GetAcrostic_poetry</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>text<span class="token punctuation">,</span>line<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">,</span> word<span class="token operator">=</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>module_acrostic_poetry <span class="token operator">=</span> self<span class="token punctuation">.</span>hub<span class="token punctuation">.</span>module <span class="token operator">=</span> hub<span class="token punctuation">.</span>Module<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;ernie_gen_acrostic_poetry&quot;</span><span class="token punctuation">,</span> line<span class="token operator">=</span>line<span class="token punctuation">,</span> word<span class="token operator">=</span>word<span class="token punctuation">)</span>
        results <span class="token operator">=</span> self<span class="token punctuation">.</span>module_acrostic_poetry<span class="token punctuation">.</span>generate<span class="token punctuation">(</span>texts<span class="token operator">=</span><span class="token punctuation">[</span>text<span class="token punctuation">]</span><span class="token punctuation">,</span> use_gpu<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> beam_width<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> results<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
    <span class="token keyword">def</span> <span class="token function">GetPoetry</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>curx<span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment">#输入关键句，词即可生成诗歌，默认一首</span>
        results <span class="token operator">=</span> self<span class="token punctuation">.</span>module_poetry<span class="token punctuation">.</span>generate<span class="token punctuation">(</span>texts<span class="token operator">=</span><span class="token punctuation">[</span>curx<span class="token punctuation">]</span><span class="token punctuation">,</span> use_gpu<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> beam_width<span class="token operator">=</span>size<span class="token punctuation">)</span>
        <span class="token keyword">return</span> results<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>

    <span class="token keyword">def</span> <span class="token function">GetCouplet</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>up_couplet<span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment">#输入上联给出下联,默认给一个</span>
        results <span class="token operator">=</span> self<span class="token punctuation">.</span>module_couplets<span class="token punctuation">.</span>generate<span class="token punctuation">(</span>texts<span class="token operator">=</span><span class="token punctuation">[</span>up_couplet<span class="token punctuation">]</span><span class="token punctuation">,</span> use_gpu<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> beam_width<span class="token operator">=</span>size<span class="token punctuation">)</span>
        <span class="token keyword">return</span> results<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
    

<span class="token keyword">if</span> __name__<span class="token operator">==</span><span class="token string">&quot;__main__&quot;</span><span class="token punctuation">:</span>
    Hub <span class="token operator">=</span> HubUtils<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
        input_ <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">&quot;请选择功能: 1.情话 2.诗歌 3.藏头诗 4.对联 5.退出\\n&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> input_ <span class="token operator">==</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">:</span>
            input_ <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">&quot;请输入情话关键词:\\n&gt;&gt;&gt;&quot;</span><span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span>Hub<span class="token punctuation">.</span>GetLoveWords<span class="token punctuation">(</span>input_<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">elif</span> input_ <span class="token operator">==</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">:</span>
            input_ <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">&quot;请输入诗歌关键词:\\n&gt;&gt;&gt;&quot;</span><span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span>Hub<span class="token punctuation">.</span>GetPoetry<span class="token punctuation">(</span>input_<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">elif</span> input_ <span class="token operator">==</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">:</span>
            input_ <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">&quot;请输入藏头诗关键词:\\n&gt;&gt;&gt;&quot;</span><span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span>Hub<span class="token punctuation">.</span>GetAcrostic_poetry<span class="token punctuation">(</span>input_<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">elif</span> input_ <span class="token operator">==</span> <span class="token string">&quot;4&quot;</span><span class="token punctuation">:</span>
            input_ <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">&quot;请输入上联:\\n&gt;&gt;&gt;&quot;</span><span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span>Hub<span class="token punctuation">.</span>GetCouplet<span class="token punctuation">(</span>input_<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">elif</span> input_ <span class="token operator">==</span> <span class="token string">&quot;5&quot;</span><span class="token punctuation">:</span>
            <span class="token keyword">break</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1),o=[e];function c(l,u){return s(),a("div",null,o)}const k=n(p,[["render",c],["__file","利用百度飞浆的预训练模型生成情话、对联等信息.html.vue"]]);export{k as default};
