const n=JSON.parse(`{"key":"v-b0504bda","path":"/posts/labelme/%E9%AB%98%E7%89%88%E6%9C%AClabelme%E6%A0%BC%E5%BC%8F%E8%BD%AC%E6%8D%A2%E4%B8%BA%E4%BD%8E%E7%89%88%E6%9C%AC%E6%A0%BC%E5%BC%8F.html","title":"高版本labelme格式转换为低版本格式","lang":"zh-CN","frontmatter":{"title":"高版本labelme格式转换为低版本格式","category":["code"],"tag":["python","labelme"],"description":"import os import json deatil_data=r'' save_path=\\"\\" for i in os.listdir(deatil_data): if not i.endswith('json'): continue temp_data=os.path.join(deatil_data,i) print(temp_data) with open(temp_data,\\"r\\",encoding='utf8')as f: data=json.loads(f.read()) template_data = { \\"version\\": \\"3.16.7\\", \\"flags\\": {}, \\"shapes\\": [], \\"lineColor\\": [ 0, 255, 0, 128 ], \\"fillColor\\": [ 255, 0, 0, 128 ], \\"imagePath\\": data['imagePath'], \\"imageHeight\\": data['imageHeight'], \\"imageWidth\\": data['imageWidth'], \\"imageData\\": data['imageData'], } shapes=[] for j in data['shapes']: dict_point={ \\"label\\":j['label'], \\"line_color\\":None, \\"fill_color\\":None, \\"points\\":j['points'], \\"shape_type\\":j['shape_type'], \\"flags\\":{} } shapes.append(dict_point) template_data['shapes']=shapes with open(temp_data,\\"w\\",encoding='utf-8')as ff: ff.write(json.dumps(template_data,ensure_ascii=False,indent=4))","head":[["meta",{"property":"og:url","content":"https://mister-hope.github.io/posts/labelme/%E9%AB%98%E7%89%88%E6%9C%AClabelme%E6%A0%BC%E5%BC%8F%E8%BD%AC%E6%8D%A2%E4%B8%BA%E4%BD%8E%E7%89%88%E6%9C%AC%E6%A0%BC%E5%BC%8F.html"}],["meta",{"property":"og:site_name","content":"博客演示"}],["meta",{"property":"og:title","content":"高版本labelme格式转换为低版本格式"}],["meta",{"property":"og:description","content":"import os import json deatil_data=r'' save_path=\\"\\" for i in os.listdir(deatil_data): if not i.endswith('json'): continue temp_data=os.path.join(deatil_data,i) print(temp_data) with open(temp_data,\\"r\\",encoding='utf8')as f: data=json.loads(f.read()) template_data = { \\"version\\": \\"3.16.7\\", \\"flags\\": {}, \\"shapes\\": [], \\"lineColor\\": [ 0, 255, 0, 128 ], \\"fillColor\\": [ 255, 0, 0, 128 ], \\"imagePath\\": data['imagePath'], \\"imageHeight\\": data['imageHeight'], \\"imageWidth\\": data['imageWidth'], \\"imageData\\": data['imageData'], } shapes=[] for j in data['shapes']: dict_point={ \\"label\\":j['label'], \\"line_color\\":None, \\"fill_color\\":None, \\"points\\":j['points'], \\"shape_type\\":j['shape_type'], \\"flags\\":{} } shapes.append(dict_point) template_data['shapes']=shapes with open(temp_data,\\"w\\",encoding='utf-8')as ff: ff.write(json.dumps(template_data,ensure_ascii=False,indent=4))"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-08-31T11:11:28.000Z"}],["meta",{"property":"article:author","content":"爱喝水的木子"}],["meta",{"property":"article:tag","content":"python"}],["meta",{"property":"article:tag","content":"labelme"}],["meta",{"property":"article:modified_time","content":"2023-08-31T11:11:28.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"高版本labelme格式转换为低版本格式\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2023-08-31T11:11:28.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"爱喝水的木子\\",\\"url\\":\\"https://lideshan.cn\\",\\"email\\":\\"muzi@lideshan.cn\\"}]}"]]},"headers":[],"git":{"createdTime":1693480288000,"updatedTime":1693480288000,"contributors":[{"name":"爱喝水的木子","email":"50564847+ice-a@users.noreply.github.com","commits":1}]},"readingTime":{"minutes":0.41,"words":124},"filePathRelative":"posts/labelme/高版本labelme格式转换为低版本格式.md","localizedDate":"2023年8月31日","excerpt":"<div class=\\"language-python line-numbers-mode\\" data-ext=\\"py\\"><pre class=\\"language-python\\"><code><span class=\\"token keyword\\">import</span> os\\n<span class=\\"token keyword\\">import</span> json\\ndeatil_data<span class=\\"token operator\\">=</span><span class=\\"token string\\">r''</span>\\nsave_path<span class=\\"token operator\\">=</span><span class=\\"token string\\">\\"\\"</span>\\n<span class=\\"token keyword\\">for</span> i <span class=\\"token keyword\\">in</span> os<span class=\\"token punctuation\\">.</span>listdir<span class=\\"token punctuation\\">(</span>deatil_data<span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">:</span>\\n    <span class=\\"token keyword\\">if</span> <span class=\\"token keyword\\">not</span> i<span class=\\"token punctuation\\">.</span>endswith<span class=\\"token punctuation\\">(</span><span class=\\"token string\\">'json'</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">:</span>\\n        <span class=\\"token keyword\\">continue</span>\\n    temp_data<span class=\\"token operator\\">=</span>os<span class=\\"token punctuation\\">.</span>path<span class=\\"token punctuation\\">.</span>join<span class=\\"token punctuation\\">(</span>deatil_data<span class=\\"token punctuation\\">,</span>i<span class=\\"token punctuation\\">)</span>\\n    <span class=\\"token keyword\\">print</span><span class=\\"token punctuation\\">(</span>temp_data<span class=\\"token punctuation\\">)</span>\\n    <span class=\\"token keyword\\">with</span> <span class=\\"token builtin\\">open</span><span class=\\"token punctuation\\">(</span>temp_data<span class=\\"token punctuation\\">,</span><span class=\\"token string\\">\\"r\\"</span><span class=\\"token punctuation\\">,</span>encoding<span class=\\"token operator\\">=</span><span class=\\"token string\\">'utf8'</span><span class=\\"token punctuation\\">)</span><span class=\\"token keyword\\">as</span> f<span class=\\"token punctuation\\">:</span>\\n        data<span class=\\"token operator\\">=</span>json<span class=\\"token punctuation\\">.</span>loads<span class=\\"token punctuation\\">(</span>f<span class=\\"token punctuation\\">.</span>read<span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">)</span>\\n    template_data <span class=\\"token operator\\">=</span> <span class=\\"token punctuation\\">{</span>\\n        <span class=\\"token string\\">\\"version\\"</span><span class=\\"token punctuation\\">:</span> <span class=\\"token string\\">\\"3.16.7\\"</span><span class=\\"token punctuation\\">,</span>\\n        <span class=\\"token string\\">\\"flags\\"</span><span class=\\"token punctuation\\">:</span> <span class=\\"token punctuation\\">{</span><span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">,</span>\\n        <span class=\\"token string\\">\\"shapes\\"</span><span class=\\"token punctuation\\">:</span> <span class=\\"token punctuation\\">[</span><span class=\\"token punctuation\\">]</span><span class=\\"token punctuation\\">,</span>\\n        <span class=\\"token string\\">\\"lineColor\\"</span><span class=\\"token punctuation\\">:</span> <span class=\\"token punctuation\\">[</span>\\n            <span class=\\"token number\\">0</span><span class=\\"token punctuation\\">,</span>\\n            <span class=\\"token number\\">255</span><span class=\\"token punctuation\\">,</span>\\n            <span class=\\"token number\\">0</span><span class=\\"token punctuation\\">,</span>\\n            <span class=\\"token number\\">128</span>\\n        <span class=\\"token punctuation\\">]</span><span class=\\"token punctuation\\">,</span>\\n        <span class=\\"token string\\">\\"fillColor\\"</span><span class=\\"token punctuation\\">:</span> <span class=\\"token punctuation\\">[</span>\\n            <span class=\\"token number\\">255</span><span class=\\"token punctuation\\">,</span>\\n            <span class=\\"token number\\">0</span><span class=\\"token punctuation\\">,</span>\\n            <span class=\\"token number\\">0</span><span class=\\"token punctuation\\">,</span>\\n            <span class=\\"token number\\">128</span>\\n        <span class=\\"token punctuation\\">]</span><span class=\\"token punctuation\\">,</span>\\n        <span class=\\"token string\\">\\"imagePath\\"</span><span class=\\"token punctuation\\">:</span> data<span class=\\"token punctuation\\">[</span><span class=\\"token string\\">'imagePath'</span><span class=\\"token punctuation\\">]</span><span class=\\"token punctuation\\">,</span>\\n        <span class=\\"token string\\">\\"imageHeight\\"</span><span class=\\"token punctuation\\">:</span> data<span class=\\"token punctuation\\">[</span><span class=\\"token string\\">'imageHeight'</span><span class=\\"token punctuation\\">]</span><span class=\\"token punctuation\\">,</span>\\n        <span class=\\"token string\\">\\"imageWidth\\"</span><span class=\\"token punctuation\\">:</span> data<span class=\\"token punctuation\\">[</span><span class=\\"token string\\">'imageWidth'</span><span class=\\"token punctuation\\">]</span><span class=\\"token punctuation\\">,</span>\\n        <span class=\\"token string\\">\\"imageData\\"</span><span class=\\"token punctuation\\">:</span> data<span class=\\"token punctuation\\">[</span><span class=\\"token string\\">'imageData'</span><span class=\\"token punctuation\\">]</span><span class=\\"token punctuation\\">,</span>\\n    <span class=\\"token punctuation\\">}</span> \\n    shapes<span class=\\"token operator\\">=</span><span class=\\"token punctuation\\">[</span><span class=\\"token punctuation\\">]</span>\\n    <span class=\\"token keyword\\">for</span> j <span class=\\"token keyword\\">in</span> data<span class=\\"token punctuation\\">[</span><span class=\\"token string\\">'shapes'</span><span class=\\"token punctuation\\">]</span><span class=\\"token punctuation\\">:</span>\\n        dict_point<span class=\\"token operator\\">=</span><span class=\\"token punctuation\\">{</span>\\n                <span class=\\"token string\\">\\"label\\"</span><span class=\\"token punctuation\\">:</span>j<span class=\\"token punctuation\\">[</span><span class=\\"token string\\">'label'</span><span class=\\"token punctuation\\">]</span><span class=\\"token punctuation\\">,</span>\\n                <span class=\\"token string\\">\\"line_color\\"</span><span class=\\"token punctuation\\">:</span><span class=\\"token boolean\\">None</span><span class=\\"token punctuation\\">,</span>\\n                <span class=\\"token string\\">\\"fill_color\\"</span><span class=\\"token punctuation\\">:</span><span class=\\"token boolean\\">None</span><span class=\\"token punctuation\\">,</span>\\n                <span class=\\"token string\\">\\"points\\"</span><span class=\\"token punctuation\\">:</span>j<span class=\\"token punctuation\\">[</span><span class=\\"token string\\">'points'</span><span class=\\"token punctuation\\">]</span><span class=\\"token punctuation\\">,</span>\\n                <span class=\\"token string\\">\\"shape_type\\"</span><span class=\\"token punctuation\\">:</span>j<span class=\\"token punctuation\\">[</span><span class=\\"token string\\">'shape_type'</span><span class=\\"token punctuation\\">]</span><span class=\\"token punctuation\\">,</span>\\n                <span class=\\"token string\\">\\"flags\\"</span><span class=\\"token punctuation\\">:</span><span class=\\"token punctuation\\">{</span><span class=\\"token punctuation\\">}</span>\\n            <span class=\\"token punctuation\\">}</span>\\n\\n        shapes<span class=\\"token punctuation\\">.</span>append<span class=\\"token punctuation\\">(</span>dict_point<span class=\\"token punctuation\\">)</span>\\n    template_data<span class=\\"token punctuation\\">[</span><span class=\\"token string\\">'shapes'</span><span class=\\"token punctuation\\">]</span><span class=\\"token operator\\">=</span>shapes\\n    <span class=\\"token keyword\\">with</span> <span class=\\"token builtin\\">open</span><span class=\\"token punctuation\\">(</span>temp_data<span class=\\"token punctuation\\">,</span><span class=\\"token string\\">\\"w\\"</span><span class=\\"token punctuation\\">,</span>encoding<span class=\\"token operator\\">=</span><span class=\\"token string\\">'utf-8'</span><span class=\\"token punctuation\\">)</span><span class=\\"token keyword\\">as</span> ff<span class=\\"token punctuation\\">:</span>\\n        ff<span class=\\"token punctuation\\">.</span>write<span class=\\"token punctuation\\">(</span>json<span class=\\"token punctuation\\">.</span>dumps<span class=\\"token punctuation\\">(</span>template_data<span class=\\"token punctuation\\">,</span>ensure_ascii<span class=\\"token operator\\">=</span><span class=\\"token boolean\\">False</span><span class=\\"token punctuation\\">,</span>indent<span class=\\"token operator\\">=</span><span class=\\"token number\\">4</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">)</span>\\n\\n</code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","copyright":{"author":"爱喝水的木子"},"autoDesc":true}`);export{n as data};
